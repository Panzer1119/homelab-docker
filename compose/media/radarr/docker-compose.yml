---
volumes:
  config:
    name: config/radarr
    driver: zfs
  config-4k:
    name: data/radarr-4k
    driver: zfs
  config-anime:
    name: data/radarr-anime
    driver: zfs
  #TODO Is this correct? 
  data:
    type: bind
    src: /data
    dest: /data
  movies:
    name: radarr-movies
    # Because this is a cifs volume, and it needs credentials, it is created outside of this file
    external: true
  movies-4k:
    name: radarr-movies-4k
    # Because this is a cifs volume, and it needs credentials, it is created outside of this file
    external: true
  movies-anime:
    name: radarr-movies-anime
    # Because this is a cifs volume, and it needs credentials, it is created outside of this file
    external: true
  trash:
    name: radarr-trash
    # Because this is a cifs volume, and it needs credentials, it is created outside of this file
    external: true
  trash-4k:
    name: radarr-trash-4k
    # Because this is a cifs volume, and it needs credentials, it is created outside of this file
    external: true
  trash-anime:
    name: radarr-trash-anime
    # Because this is a cifs volume, and it needs credentials, it is created outside of this file
    external: true

x-environment: &default-environment
  - PGID=1000
  - PUID=1000
  - TZ=Europe/Berlin
  - UMASK_SET=022

services:
  radarr:
    image: ghcr.io/linuxserver/radarr:5.8.3@sha256:2a02b311cefb344cd0caf74a443b9d6318daf15bda5280a3bc732381db983dc3
    container_name: radarr
    hostname: radarr
    environment: *default-environment
    volumes:
      - config:/config
      - data:/data
      - movies:/data/media/radarr
      - trash:/data/trash/radarr
    labels:
      - "de.panzer1119.docker.volume.radarr-movies.cifs.host=op://Docker/Radarr/CIFS/Host"
      - "de.panzer1119.docker.volume.radarr-movies.cifs.share=op://Docker/Radarr/CIFS/Share_Movies"
      - "de.panzer1119.docker.volume.radarr-movies.cifs.username=op://Docker/Radarr/CIFS/Username"
      - "de.panzer1119.docker.volume.radarr-movies.cifs.password=op://Docker/Radarr/CIFS/Password"
      - "de.panzer1119.docker.volume.radarr-trash.cifs.host=op://Docker/Radarr/CIFS/Host"
      - "de.panzer1119.docker.volume.radarr-trash.cifs.share=op://Docker/Radarr/CIFS/Share_Trash"
      - "de.panzer1119.docker.volume.radarr-trash.cifs.username=op://Docker/Radarr/CIFS/Username"
      - "de.panzer1119.docker.volume.radarr-trash.cifs.password=op://Docker/Radarr/CIFS/Password"
    network_mode: bridge
    ports:
      - "7878:7878"
    restart: unless-stopped
    extends:
      file: ../../common/docker-compose.yml
      service: logging-gelf

  radarr-4k:
    image: ghcr.io/linuxserver/radarr:5.8.3@sha256:2a02b311cefb344cd0caf74a443b9d6318daf15bda5280a3bc732381db983dc3
    container_name: radarr-4k
    hostname: radarr-4k
    environment: *default-environment
    volumes:
      - config-4k:/config
      - data:/data
      - movies-4k:/data/media/radarr-4k
      - trash-4k:/data/trash/radarr-4k
    labels:
      - "de.panzer1119.docker.volume.radarr-movies-4k.cifs.host=op://Docker/Radarr/CIFS/Host"
      - "de.panzer1119.docker.volume.radarr-movies-4k.cifs.share=op://Docker/Radarr/CIFS/Share_Movies_4K"
      - "de.panzer1119.docker.volume.radarr-movies-4k.cifs.username=op://Docker/Radarr/CIFS/Username"
      - "de.panzer1119.docker.volume.radarr-movies-4k.cifs.password=op://Docker/Radarr/CIFS/Password"
      - "de.panzer1119.docker.volume.radarr-trash-4k.cifs.host=op://Docker/Radarr/CIFS/Host"
      - "de.panzer1119.docker.volume.radarr-trash-4k.cifs.share=op://Docker/Radarr/CIFS/Share_Trash_4K"
      - "de.panzer1119.docker.volume.radarr-trash-4k.cifs.username=op://Docker/Radarr/CIFS/Username"
      - "de.panzer1119.docker.volume.radarr-trash-4k.cifs.password=op://Docker/Radarr/CIFS/Password"
    network_mode: bridge
    ports:
      - "7474:7878"
    restart: unless-stopped
    extends:
      file: ../../common/docker-compose.yml
      service: logging-gelf

  radarr-anime:
    image: ghcr.io/linuxserver/radarr:5.8.3@sha256:2a02b311cefb344cd0caf74a443b9d6318daf15bda5280a3bc732381db983dc3
    container_name: radarr-anime
    hostname: radarr-anime
    environment: *default-environment
    volumes:
      - config-anime:/config
      - data:/data
      - movies-anime:/data/media/radarr-anime
      - trash-anime:/data/trash/radarr-anime
    labels:
      - "de.panzer1119.docker.volume.radarr-movies-anime.cifs.host=op://Docker/Radarr/CIFS/Host"
      - "de.panzer1119.docker.volume.radarr-movies-anime.cifs.share=op://Docker/Radarr/CIFS/Share_Movies_Anime"
      - "de.panzer1119.docker.volume.radarr-movies-anime.cifs.username=op://Docker/Radarr/CIFS/Username"
      - "de.panzer1119.docker.volume.radarr-movies-anime.cifs.password=op://Docker/Radarr/CIFS/Password"
      - "de.panzer1119.docker.volume.radarr-trash-anime.cifs.host=op://Docker/Radarr/CIFS/Host"
      - "de.panzer1119.docker.volume.radarr-trash-anime.cifs.share=op://Docker/Radarr/CIFS/Share_Trash_Anime"
      - "de.panzer1119.docker.volume.radarr-trash-anime.cifs.username=op://Docker/Radarr/CIFS/Username"
      - "de.panzer1119.docker.volume.radarr-trash-anime.cifs.password=op://Docker/Radarr/CIFS/Password"
    network_mode: bridge
    ports:
      - "7171:7878"
    restart: unless-stopped
    extends:
      file: ../../common/docker-compose.yml
      service: logging-gelf
