---
volumes:
  config:
    name: config/sabnzbd
    driver: zfs
  data:
    name: cache/sabnzbd
    driver: zfs
    driver_opts:
      compression: lz4
      quota: 256G
      recordsize: 1M

services:
  sabnzbd:
    image: ghcr.io/linuxserver/sabnzbd:4.3.2@sha256:d6a2a967d47b495c5342bc23de76d35eeb2f3ceb53c7be51885ad25f95dffe9b
    container_name: sabnzbd
    hostname: sabnzbd
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Berlin
      - UMASK=022
      #- SAB_NOTIFICATION_PARAMETERS="" # Since v4.0.2
    volumes:
      - config:/config
      - data:/data/usenet
      - /etc/localtime:/etc/localtime:ro
    network_mode: bridge
    ports:
      - "8688:8080"
      - "9090:9090"
    restart: unless-stopped
    extends:
      file: ../../common/docker-compose.yml
      service: logging-gelf
